<!doctype html>
<html lang="vi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ƒê·∫øm Ng∆∞·ª£c Thi THPT Chuy√™n Nghi·ªáp</title><!-- Tailwind CSS removed - using custom CSS only -->
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
    }
    
    html {
      height: 100%;
      scroll-behavior: smooth;
    }

    /* Theme Variables */
    :root {
      --bg-start: #111315;
      --bg-end: #1D2125;
      --accent: #9CA3AF;
      --secondary: #D1D5DB;
      --text: #E5E7EB;
      --text-dim: #9CA3AF;
      --glow: rgba(156, 163, 175, 0.3);
    }

    .theme-emerald {
      --bg-start: #0F2222;
      --bg-end: #183C3C;
      --accent: #6EE7B7;
      --secondary: #A7F3D0;
      --text: #E6F2E6;
      --text-dim: #A7F3D0;
      --glow: rgba(110, 231, 183, 0.3);
    }

    .theme-slate {
      --bg-start: #111315;
      --bg-end: #1D2125;
      --accent: #9CA3AF;
      --secondary: #D1D5DB;
      --text: #E5E7EB;
      --text-dim: #9CA3AF;
      --glow: rgba(156, 163, 175, 0.3);
    }

    .theme-rose {
      --bg-start: #1F0A1A;
      --bg-end: #2D1B2E;
      --accent: #F472B6;
      --secondary: #FBBF24;
      --text: #FDF2F8;
      --text-dim: #F9A8D4;
      --glow: rgba(244, 114, 182, 0.3);
    }

    .theme-brown {
      --bg-start: #1C1410;
      --bg-end: #2A1F1A;
      --accent: #D97706;
      --secondary: #F59E0B;
      --text: #FEF3E2;
      --text-dim: #FCD34D;
      --glow: rgba(217, 119, 6, 0.3);
    }

    /* Animated Background */
    .animated-bg {
      background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease-in-out infinite;
      min-height: 100%;
      position: relative;
      overflow: hidden;
      transition: background 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    /* Floating particles */
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.6;
      animation: float 20s linear infinite;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) translateX(0px);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(-100px) translateX(100px);
        opacity: 0;
      }
    }

    /* Glass morphism */
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Hero Section */
    .hero-section {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
      position: relative;
      z-index: 2;
    }

    .hero-title {
      font-size: clamp(2rem, 5vw, 4rem);
      font-weight: 800;
      color: var(--text);
      margin-bottom: 1rem;
      margin-top: 4rem;
      text-shadow: 0 0 30px var(--glow);
      animation: fadeInUp 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      letter-spacing: 2px;
      line-height: 1.2;
      transition: color 1.5s cubic-bezier(0.4, 0, 0.2, 1), text-shadow 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .hero-subtitle {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      color: var(--text-dim);
      margin-bottom: 3rem;
      animation: fadeInUp 2.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.8s both;
      font-weight: 300;
    }

    /* Countdown */
    .countdown-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 2.5rem;
      max-width: 800px;
      width: 100%;
      animation: slideInScale 2.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 1.2s both;
    }

    .countdown-box {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 24px;
      padding: 2.5rem 1.5rem;
      text-align: center;
      transition: all 1.2s cubic-bezier(0.23, 1, 0.32, 1);
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(60px) scale(0.8);
      animation: countdownBoxIn 1.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
    }

    .countdown-box:nth-child(1) { animation-delay: 1.6s; }
    .countdown-box:nth-child(2) { animation-delay: 1.8s; }
    .countdown-box:nth-child(3) { animation-delay: 2.0s; }
    .countdown-box:nth-child(4) { animation-delay: 2.2s; }

    .countdown-box:hover {
      transform: translateY(-15px) scale(1.05);
      box-shadow: 0 40px 100px var(--glow);
      border-color: var(--accent);
    }

    .countdown-box:hover .countdown-number {
      transform: scale(1.1);
      text-shadow: 0 0 30px var(--glow), 0 0 50px var(--accent);
      color: var(--secondary);
    }

    .countdown-box:hover .countdown-label {
      color: var(--accent);
      transform: translateY(-2px);
    }

    .countdown-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.8s ease;
    }

    .countdown-box:hover::before {
      left: 100%;
    }

    .countdown-number {
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--accent);
      line-height: 1;
      margin-bottom: 0.8rem;
      text-shadow: 0 0 20px var(--glow);
      transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1), color 1.5s cubic-bezier(0.4, 0, 0.2, 1), text-shadow 1.5s cubic-bezier(0.4, 0, 0.2, 1);
      transform-style: preserve-3d;
      perspective: 1000px;
      position: relative;
      display: inline-block;
    }

    .countdown-number::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
      border-radius: 8px;
    }

    .countdown-number:hover::before {
      opacity: 1;
    }

    .countdown-label {
      font-size: 1.1rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-weight: 500;
    }

    /* Section spacing */
    .section {
      padding: 5rem 2rem;
      position: relative;
      z-index: 2;
    }

    .section-title {
      font-size: clamp(1.5rem, 3vw, 2.5rem);
      font-weight: 700;
      color: var(--text);
      text-align: center;
      margin-bottom: 3rem;
      text-shadow: 0 0 20px var(--glow);
      letter-spacing: 1px;
    }

    /* Form Section */
    .form-container {
      max-width: 600px;
      margin: 0 auto;
    }

    .form-group {
      margin-bottom: 2rem;
    }

    .form-label {
      display: block;
      color: var(--text);
      font-weight: 500;
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }

    .form-input, .form-textarea {
      width: 100%;
      padding: 1rem 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      color: var(--text);
      font-size: 1rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .form-input:focus, .form-textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 20px var(--glow);
      background: rgba(255, 255, 255, 0.08);
    }

    .form-input::placeholder, .form-textarea::placeholder {
      color: var(--text-dim);
    }

    .submit-btn {
      width: 100%;
      padding: 1rem 2rem;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      border: none;
      border-radius: 12px;
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px var(--glow);
    }

    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Messages Display */
    .messages-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      padding: 0 1rem;
      position: relative;
    }

    .message-card {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 1.5rem;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      animation: floatIn 0.8s ease-out, gentleFloat 6s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      transform-origin: center;
    }

    .message-card::before {
      content: 'üí¨';
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.2rem;
      opacity: 0.6;
    }

    .message-card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: var(--accent);
      box-shadow: 0 30px 80px var(--glow);
      background: rgba(255, 255, 255, 0.06);
    }

    .message-card:nth-child(odd) {
      animation-delay: 0.1s, 0s;
    }

    .message-card:nth-child(even) {
      animation-delay: 0.2s, 2s;
    }

    .message-card:nth-child(3n) {
      animation-delay: 0.3s, 4s;
    }

    .message-text {
      color: var(--text);
      font-size: 1.1rem;
      line-height: 1.7;
      margin-bottom: 1.5rem;
      font-style: italic;
      position: relative;
      padding: 0.5rem 1rem;
      margin: 0.5rem 0 1.5rem 0;
    }

    .message-text::before {
      content: '"';
      font-size: 2rem;
      color: var(--accent);
      position: absolute;
      top: -0.3rem;
      left: -0.8rem;
      opacity: 0.7;
      z-index: -1;
    }

    .message-text::after {
      content: '"';
      font-size: 2rem;
      color: var(--accent);
      position: absolute;
      bottom: -0.8rem;
      right: -0.3rem;
      opacity: 0.7;
      z-index: -1;
    }

    .message-author {
      color: var(--accent);
      font-weight: 600;
      font-size: 0.95rem;
    }

    .message-time {
      color: var(--text-dim);
      font-size: 0.8rem;
      margin-left: 1rem;
    }

    /* Class Logo Section */
    .class-logo-section {
      position: absolute;
      top: 0.5rem;
      left: 0.5rem;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      padding: 0.4rem 0.6rem;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      animation: slideInFromLeft 1.5s cubic-bezier(0.23, 1, 0.32, 1) 0.5s both;
    }

    .class-logo-section:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px var(--glow);
      border-color: var(--accent);
    }

    .class-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      animation: scaleIn 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) 1s both;
    }

    .class-logo svg {
      filter: drop-shadow(0 0 10px var(--glow));
      transition: all 0.3s ease;
    }

    .class-logo-section:hover .class-logo svg {
      transform: scale(1.1) rotate(5deg);
      filter: drop-shadow(0 0 20px var(--glow));
    }

    .class-info {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      animation: slideInFromLeft 1.3s cubic-bezier(0.23, 1, 0.32, 1) 1.2s both;
    }

    .class-name {
      color: var(--accent);
      font-size: 0.8rem;
      font-weight: 700;
      margin: 0;
      text-shadow: 0 0 10px var(--glow);
      letter-spacing: 0.5px;
    }



    /* Theme Switcher */
    .theme-switcher {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 1000;
      display: flex;
      gap: 0.3rem;
    }

    .theme-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 1.5px solid rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .theme-btn:hover {
      transform: scale(1.1);
      border-color: white;
    }

    .theme-btn.active {
      border-color: var(--accent);
      box-shadow: 0 0 20px var(--glow);
    }

    .theme-deep { background: linear-gradient(135deg, #0D1117, #00B4D8); }
    
    .theme-deep {
      --bg-start: #0D1117;
      --bg-end: #1A2332;
      --accent: #00B4D8;
      --secondary: #0077B6;
      --text: #E1F5FE;
      --text-dim: #81D4FA;
      --glow: rgba(0, 180, 216, 0.3);
    }
    .theme-emerald-btn { background: linear-gradient(135deg, #0F2222, #6EE7B7); }
    .theme-slate-btn { background: linear-gradient(135deg, #111315, #9CA3AF); }
    .theme-rose-btn { background: linear-gradient(135deg, #1F0A1A, #F472B6); }
    .theme-brown-btn { background: linear-gradient(135deg, #1C1410, #D97706); }

    /* Scroll Animations */
    .scroll-reveal {
      opacity: 0;
      transform: translateY(80px);
      transition: all 1.6s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .scroll-reveal.revealed {
      opacity: 1;
      transform: translateY(0);
    }

    .scroll-reveal-left {
      opacity: 0;
      transform: translateX(-80px) rotate(-5deg);
      transition: all 1.4s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .scroll-reveal-left.revealed {
      opacity: 1;
      transform: translateX(0) rotate(0deg);
    }

    .scroll-reveal-right {
      opacity: 0;
      transform: translateX(80px) rotate(5deg);
      transition: all 1.4s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .scroll-reveal-right.revealed {
      opacity: 1;
      transform: translateX(0) rotate(0deg);
    }

    .scroll-reveal-scale {
      opacity: 0;
      transform: scale(0.6) rotate(10deg);
      transition: all 1.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .scroll-reveal-scale.revealed {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }

    .scroll-reveal-fade {
      opacity: 0;
      transition: opacity 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .scroll-reveal-fade.revealed {
      opacity: 1;
    }

    /* Stagger animation delays */
    .scroll-reveal:nth-child(1) { transition-delay: 0.2s; }
    .scroll-reveal:nth-child(2) { transition-delay: 0.4s; }
    .scroll-reveal:nth-child(3) { transition-delay: 0.6s; }
    .scroll-reveal:nth-child(4) { transition-delay: 0.8s; }
    .scroll-reveal:nth-child(5) { transition-delay: 1.0s; }
    .scroll-reveal:nth-child(6) { transition-delay: 1.2s; }

    /* Animations */
    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(60px) scale(0.95);
      }
      50% {
        opacity: 0.7;
        transform: translateY(-10px) scale(1.02);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes slideInScale {
      0% {
        opacity: 0;
        transform: translateY(100px) scale(0.8);
      }
      60% {
        opacity: 0.8;
        transform: translateY(-20px) scale(1.05);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes countdownBoxIn {
      0% {
        opacity: 0;
        transform: translateY(60px) scale(0.8) rotateX(45deg);
      }
      50% {
        opacity: 0.7;
        transform: translateY(-10px) scale(1.05) rotateX(-5deg);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0deg);
      }
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes floatIn {
      0% {
        opacity: 0;
        transform: translateY(50px) scale(0.85) rotate(8deg);
      }
      30% {
        opacity: 0.4;
        transform: translateY(20px) scale(0.95) rotate(-2deg);
      }
      70% {
        opacity: 0.8;
        transform: translateY(-8px) scale(1.03) rotate(1deg);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1) rotate(0deg);
      }
    }

    @keyframes gentleFloat {
      0%, 100% {
        transform: translateY(0px) rotate(0deg) scale(1);
      }
      25% {
        transform: translateY(-12px) rotate(0.8deg) scale(1.01);
      }
      50% {
        transform: translateY(-6px) rotate(0deg) scale(1.005);
      }
      75% {
        transform: translateY(-18px) rotate(-0.8deg) scale(1.01);
      }
    }

    @keyframes slideInFromLeft {
      from {
        opacity: 0;
        transform: translateX(-100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInFromRight {
      from {
        opacity: 0;
        transform: translateX(100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.5);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes numberFlip {
      0% { 
        transform: rotateX(0deg) scale(1);
        opacity: 1;
      }
      25% {
        transform: rotateX(-45deg) scale(0.95);
        opacity: 0.8;
      }
      50% { 
        transform: rotateX(-90deg) scale(0.9);
        opacity: 0.6;
      }
      75% {
        transform: rotateX(-45deg) scale(0.95);
        opacity: 0.8;
      }
      100% { 
        transform: rotateX(0deg) scale(1);
        opacity: 1;
      }
    }

    @keyframes numberGlow {
      0%, 100% {
        text-shadow: 0 0 20px var(--glow);
      }
      50% {
        text-shadow: 0 0 40px var(--glow), 0 0 60px var(--accent);
      }
    }

    @keyframes numberPulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .number-flip {
      animation: numberFlip 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .number-glow {
      animation: numberGlow 2s ease-in-out infinite;
    }

    .number-pulse {
      animation: numberPulse 1.5s ease-in-out infinite;
    }

    /* Checkbox Styling */
    .checkbox-container {
      display: flex;
      align-items: center;
      cursor: pointer;
      user-select: none;
      margin-bottom: 0;
    }

    .checkbox-input {
      display: none;
    }

    .checkbox-custom {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      margin-right: 12px;
      position: relative;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
    }

    .checkbox-custom::after {
      content: '‚úì';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      color: white;
      font-size: 12px;
      font-weight: bold;
      transition: transform 0.2s ease;
    }

    .checkbox-input:checked + .checkbox-custom {
      border-color: var(--accent);
      background: var(--accent);
      box-shadow: 0 0 15px var(--glow);
    }

    .checkbox-input:checked + .checkbox-custom::after {
      transform: translate(-50%, -50%) scale(1);
    }

    .checkbox-label {
      color: var(--text);
      font-size: 0.95rem;
      font-weight: 500;
    }

    .checkbox-container:hover .checkbox-custom {
      border-color: var(--accent);
      transform: scale(1.05);
    }

    /* Form shake animation */
    @keyframes formShake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    .form-shake {
      animation: formShake 0.5s ease-in-out;
    }

    /* Success message */
    .success-message {
      text-align: center;
      color: var(--secondary);
      font-size: 1.2rem;
      font-weight: 600;
      padding: 2rem;
      opacity: 0;
      transform: scale(0.8);
      transition: all 0.6s ease;
    }

    .success-message.show {
      opacity: 1;
      transform: scale(1);
    }

    /* Shine effect for button */
    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.8s ease;
    }

    .submit-btn:hover::before {
      left: 100%;
    }

    /* Message Particles */
    .message-particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .message-particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.4;
      animation: messageFloat 15s linear infinite;
    }

    .message-particle.circle::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.8;
    }

    .message-particle.square::before {
      content: '';
      position: absolute;
      top: -1px;
      left: -1px;
      width: 6px;
      height: 6px;
      background: var(--secondary);
      border-radius: 2px;
      opacity: 0.6;
      transform: rotate(45deg);
    }

    .message-particle.diamond::before {
      content: '';
      position: absolute;
      top: -3px;
      left: -3px;
      width: 10px;
      height: 10px;
      background: linear-gradient(45deg, var(--accent), var(--secondary));
      border-radius: 2px;
      opacity: 0.7;
      transform: rotate(45deg);
    }

    @keyframes messageFloat {
      0% {
        transform: translateY(100%) translateX(0px) rotate(0deg);
        opacity: 0;
      }
      15% {
        opacity: 0.8;
      }
      85% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-300px) translateX(80px) rotate(720deg);
        opacity: 0;
      }
    }

    /* Loading states */
    .loading {
      opacity: 0.6;
      pointer-events: none;
    }

    .spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Admin Panel Styles */
    .admin-toggle-btn {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      padding: 0.8rem 1.5rem;
      color: var(--text);
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .admin-toggle-btn:hover {
      transform: translateY(-2px);
      border-color: var(--accent);
      box-shadow: 0 10px 30px var(--glow);
      background: rgba(255, 255, 255, 0.12);
    }

    .admin-panel {
      margin-bottom: 3rem;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      max-height: 0;
    }

    .admin-panel.show {
      opacity: 1;
      transform: translateY(0);
      max-height: 500px;
    }

    .admin-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 15px 40px var(--glow);
    }

    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 0.5rem;
      text-shadow: 0 0 15px var(--glow);
    }

    .stat-label {
      color: var(--text-dim);
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .admin-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .admin-btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 12px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .export-btn {
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      color: white;
    }

    .export-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px var(--glow);
    }

    .danger-btn {
      background: linear-gradient(135deg, #EF4444, #DC2626);
      color: white;
    }

    .danger-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
    }

    .admin-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* Message management */
    .message-card {
      position: relative;
    }

    .message-actions {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: none;
      gap: 0.5rem;
    }

    .admin-mode .message-actions {
      display: flex;
    }

    /* Selection mode styles */
    .selection-mode .message-card {
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .selection-mode .message-card:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: #8B5CF6;
      box-shadow: 0 20px 60px rgba(139, 92, 246, 0.3);
    }

    .message-card.selected {
      border-color: #8B5CF6 !important;
      background: rgba(139, 92, 246, 0.15) !important;
      box-shadow: 0 15px 40px rgba(139, 92, 246, 0.4) !important;
      transform: translateY(-5px) scale(1.02) !important;
    }

    .message-checkbox {
      position: absolute;
      top: 1rem;
      left: 1rem;
      width: 24px;
      height: 24px;
      border: 2px solid rgba(255, 255, 255, 0.4);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .selection-mode .message-checkbox {
      display: flex;
    }

    .message-checkbox.checked {
      background: #8B5CF6;
      border-color: #8B5CF6;
      color: white;
    }

    .message-checkbox.checked::after {
      content: '‚úì';
      font-size: 14px;
      font-weight: bold;
    }

    .message-checkbox:hover {
      border-color: #8B5CF6;
      transform: scale(1.1);
    }

    .selection-toolbar {
      animation: slideInUp 0.3s ease-out;
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message-action-btn {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }

    .edit-btn {
      background: rgba(59, 130, 246, 0.8);
      color: white;
    }

    .delete-btn {
      background: rgba(239, 68, 68, 0.8);
      color: white;
    }

    .message-action-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    /* Confirmation dialog */
    .confirmation-dialog {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .confirmation-dialog.show {
      opacity: 1;
      visibility: visible;
    }

    .confirmation-content {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 2rem;
      max-width: 400px;
      text-align: center;
      transform: scale(0.8);
      transition: transform 0.3s ease;
    }

    .confirmation-dialog.show .confirmation-content {
      transform: scale(1);
    }

    .confirmation-title {
      color: var(--text);
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .confirmation-message {
      color: var(--text-dim);
      margin-bottom: 2rem;
      line-height: 1.5;
    }

    .confirmation-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }

    .confirm-btn, .cancel-btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .confirm-btn {
      background: #EF4444;
      color: white;
    }

    .cancel-btn {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .confirm-btn:hover, .cancel-btn:hover {
      transform: translateY(-2px);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .countdown-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      
      .countdown-box {
        padding: 1.5rem 0.5rem;
      }
      
      .countdown-number {
        font-size: 2rem;
      }
      
      .class-logo-section {
        top: 0.5rem;
        left: 0.5rem;
        padding: 0.6rem 0.8rem;
        gap: 0.8rem;
      }

      .class-logo svg {
        width: 50px;
        height: 50px;
      }

      .class-name {
        font-size: 0.9rem;
      }
      
      .theme-switcher {
        top: 0.5rem;
        right: 0.5rem;
        gap: 0.2rem;
      }

      .messages-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
        padding: 0 0.5rem;
      }

      .message-card {
        padding: 1.5rem;
      }

      .form-container {
        margin: 0 1rem;
      }

      .section {
        padding: 3rem 1rem;
      }
    }

    @media (max-width: 480px) {
      .hero-title {
        font-size: 2rem;
        line-height: 1.3;
      }

      .hero-subtitle {
        font-size: 1rem;
      }

      .countdown-number {
        font-size: 1.8rem;
      }

      .countdown-box {
        padding: 1rem 0.5rem;
      }

      .class-logo-section {
        flex-direction: column;
        gap: 0.5rem;
        padding: 0.5rem;
        text-align: center;
      }

      .class-logo svg {
        width: 50px;
        height: 50px;
      }

      .class-name {
        font-size: 0.9rem;
      }



      .theme-switcher {
        top: 0.5rem;
        right: 0.5rem;
        gap: 0.2rem;
      }

      .theme-btn {
        width: 24px;
        height: 24px;
      }

      .messages-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .message-text::before,
      .message-text::after {
        font-size: 1.5rem;
      }

      .admin-stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }

      .admin-actions {
        flex-direction: column;
      }

      .admin-btn {
        width: 100%;
        justify-content: center;
      }

      .confirmation-content {
        margin: 1rem;
        padding: 1.5rem;
      }

      .confirmation-actions {
        flex-direction: column;
        gap: 0.8rem;
      }

      .confirm-btn, .cancel-btn {
        width: 100%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="animated-bg" id="mainBg"><!-- Floating Particles -->
   <div class="particles" id="particles"></div><!-- Theme Switcher -->
   <div class="theme-switcher">
    <div class="theme-btn theme-deep" data-theme="deep" title="Deep Blue"></div>
    <div class="theme-btn theme-emerald-btn" data-theme="emerald" title="Emerald Green"></div>
    <div class="theme-btn theme-slate-btn active" data-theme="slate" title="Slate Gray"></div>
    <div class="theme-btn theme-rose-btn" data-theme="rose" title="Luxury Rose"></div>
    <div class="theme-btn theme-brown-btn" data-theme="brown" title="Luxury Brown"></div>
   </div><!-- Class Logo Section -->
   <div class="class-logo-section">
    <div class="class-logo">
     <svg width="40" height="40" viewbox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><!-- Graduation cap --> <circle cx="40" cy="40" r="35" fill="var(--accent)" opacity="0.1" /> <path d="M15 35L40 25L65 35L40 45L15 35Z" fill="var(--accent)" /> <path d="M40 45V55C40 57 42 59 45 59H35C38 59 40 57 40 55V45Z" fill="var(--accent)" opacity="0.8" /> <circle cx="62" cy="35" r="3" fill="var(--secondary)" /> <path d="M62 38V48" stroke="var(--secondary)" stroke-width="2" /> <!-- Class number --> <text x="40" y="48" text-anchor="middle" fill="var(--text)" font-size="12" font-weight="bold">
       12A1
      </text>
     </svg>
    </div>
    <div class="class-info">
     <h3 class="class-name">L·ªöP 12A1</h3>
    </div>
   </div><!-- Hero Section -->
   <section class="hero-section">
    <h1 class="hero-title" id="main-title">ƒê·∫æM NG∆Ø·ª¢C ƒê·∫æN NG√ÄY THI THPT QU·ªêC GIA 2025</h1>
    <p class="hero-subtitle" id="subtitle">C√≤n bao nhi√™u th·ªùi gian n·ªØa cho ∆∞·ªõc m∆° c·ªßa b·∫°n?</p>
    <div class="countdown-container">
     <div class="countdown-box">
      <div class="countdown-number" id="days">
       0
      </div>
      <div class="countdown-label">
       Ng√†y
      </div>
     </div>
     <div class="countdown-box">
      <div class="countdown-number" id="hours">
       0
      </div>
      <div class="countdown-label">
       Gi·ªù
      </div>
     </div>
     <div class="countdown-box">
      <div class="countdown-number" id="minutes">
       0
      </div>
      <div class="countdown-label">
       Ph√∫t
      </div>
     </div>
     <div class="countdown-box">
      <div class="countdown-number" id="seconds">
       0
      </div>
      <div class="countdown-label">
       Gi√¢y
      </div>
     </div>
    </div>
   </section><!-- Form Section -->
   <section class="section">
    <h2 class="section-title scroll-reveal" id="form-title">G·ª≠i l·ªùi ch√∫c ƒë·∫øn c√°c sƒ© t·ª≠ 12A3</h2>
    <div class="form-container glass scroll-reveal-scale">
     <form id="messageForm" style="padding: 2rem;">
      <div class="form-group scroll-reveal-left"><label for="authorInput" class="form-label">T√™n c·ªßa b·∫°n</label> <input type="text" id="authorInput" class="form-input" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" required>
      </div>
      <div class="form-group scroll-reveal-right"><label for="messageInput" class="form-label">L·ªùi ch√∫c c·ªßa b·∫°n</label> <textarea id="messageInput" class="form-textarea" rows="4" placeholder="G·ª≠i l·ªùi ch√∫c, ƒë·ªông vi√™n ƒë·∫øn c√°c b·∫°n th√≠ sinh..." required></textarea>
      </div>
      <div class="form-group scroll-reveal-left"><label class="checkbox-container"> <input type="checkbox" id="anonymousCheck" class="checkbox-input"> <span class="checkbox-custom"></span> <span class="checkbox-label">G·ª≠i ·∫©n danh</span> </label>
      </div><button type="submit" class="submit-btn scroll-reveal" id="submitBtn"> <span id="submitText">G·ª≠i l·ªùi ch√∫c üí´</span> <span id="submitSpinner" class="spinner" style="display: none;"></span> </button>
     </form>
    </div>
   </section><!-- Messages Display Section -->
   <section class="section">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem;">
     <h2 class="section-title scroll-reveal" id="display-title" style="margin-bottom: 0;">L·ªúI CH√öC T·ª™ C·ªòNG ƒê·ªíNG</h2><button id="adminToggle" class="admin-toggle-btn"> <span id="adminToggleText">üîß Qu·∫£n l√Ω</span> </button>
    </div><!-- Admin Panel (Hidden by default) -->
    <div class="admin-panel glass" id="adminPanel" style="display: none;">
     <div style="padding: 2rem;">
      <h3 style="color: var(--accent); margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;"><span>üõ†Ô∏è</span> B·∫£ng ƒëi·ªÅu khi·ªÉn qu·∫£n l√Ω l·ªùi ch√∫c</h3>
      <div class="admin-stats">
       <div class="stat-card">
        <div class="stat-number" id="totalMessages">
         0
        </div>
        <div class="stat-label">
         T·ªïng l·ªùi ch√∫c
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-number" id="todayMessages">
         0
        </div>
        <div class="stat-label">
         H√¥m nay
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-number" id="anonymousMessages">
         0
        </div>
        <div class="stat-label">
         ·∫®n danh
        </div>
       </div>
      </div>
      <div class="admin-actions"><button id="exportBtn" class="admin-btn export-btn"> üìÑ T·∫°o file l·ªùi ch√∫c </button> <button id="selectModeBtn" class="admin-btn" style="background: linear-gradient(135deg, #8B5CF6, #A855F7); color: white;"> ‚òëÔ∏è Ch·ªçn nhi·ªÅu </button> <button id="clearAllBtn" class="admin-btn danger-btn"> üóëÔ∏è X√≥a t·∫•t c·∫£ </button>
      </div><!-- Thanh c√¥ng c·ª• ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu (·∫©n m·∫∑c ƒë·ªãnh) -->
      <div id="selectionToolbar" class="selection-toolbar" style="display: none;">
       <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; margin-top: 1rem;">
        <div style="color: var(--text); font-weight: 600;"><span id="selectedCount">0</span> l·ªùi ch√∫c ƒë∆∞·ª£c ch·ªçn
        </div>
        <div style="display: flex; gap: 0.8rem;"><button id="selectAllBtn" class="admin-btn" style="background: rgba(139, 92, 246, 0.8); color: white; padding: 0.5rem 1rem; font-size: 0.8rem;"> ‚úÖ Ch·ªçn t·∫•t c·∫£ </button> <button id="deselectAllBtn" class="admin-btn" style="background: rgba(107, 114, 128, 0.8); color: white; padding: 0.5rem 1rem; font-size: 0.8rem;"> ‚ùå B·ªè ch·ªçn </button> <button id="deleteSelectedBtn" class="admin-btn danger-btn" style="padding: 0.5rem 1rem; font-size: 0.8rem;"> üóëÔ∏è X√≥a ƒë√£ ch·ªçn </button> <button id="exitSelectModeBtn" class="admin-btn" style="background: rgba(75, 85, 99, 0.8); color: white; padding: 0.5rem 1rem; font-size: 0.8rem;"> ‚Ü©Ô∏è Tho√°t </button>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="messages-container scroll-reveal-fade" id="messagesContainer"><!-- Messages will be displayed here -->
    </div><!-- Floating elements around messages -->
    <div class="message-particles" id="messageParticles"></div>
   </section><!-- Footer -->
   <section class="section scroll-reveal-scale" style="text-align: center; padding-bottom: 3rem;">
    <p id="footer-text" style="color: var(--text-dim); font-size: 1.1rem; font-weight: 300;">C·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªìng h√†nh c√πng ch√∫ng t√¥i</p>
   </section>
  </div>
  <script>
    // ===== C·∫§U H√åNH M·∫∂C ƒê·ªäNH =====
    // ƒê√¢y l√† n∆°i b·∫°n c√≥ th·ªÉ thay ƒë·ªïi n·ªôi dung v√† m√†u s·∫Øc m·∫∑c ƒë·ªãnh c·ªßa trang web
    const defaultConfig = {
      main_title: "ƒê·∫æM NG∆Ø·ª¢C ƒê·∫æN NG√ÄY THI THPT QU·ªêC GIA 2025",  // Ti√™u ƒë·ªÅ ch√≠nh
      subtitle: "C√≤n bao nhi√™u th·ªùi gian n·ªØa cho ∆∞·ªõc m∆° c·ªßa b·∫°n?",           // C√¢u h·ªèi ph·ª•
      form_title: "G·ª≠i l·ªùi ch√∫c ƒë·∫øn c√°c sƒ© t·ª≠ 12A1",                        // Ti√™u ƒë·ªÅ form g·ª≠i l·ªùi ch√∫c
      display_title: "L·ªúI CH√öC T·ª™ C·ªòNG ƒê·ªíNG",                               // Ti√™u ƒë·ªÅ hi·ªÉn th·ªã l·ªùi ch√∫c
      footer_text: "C·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªìng h√†nh c√πng ch√∫ng t√¥i",                // L·ªùi c·∫£m ∆°n cu·ªëi trang
      background_color: "#111315",  // M√†u n·ªÅn ch√≠nh
      accent_color: "#9CA3AF",      // M√†u nh·∫•n (s·ªë ƒë·∫øm ng∆∞·ª£c, n√∫t b·∫•m)
      text_color: "#E5E7EB",        // M√†u ch·ªØ ch√≠nh
      font_family: "Inter, system-ui, sans-serif",  // Font ch·ªØ
      font_size: 16                 // K√≠ch th∆∞·ªõc font c∆° b·∫£n
    };

    // ===== BI·∫æN TO√ÄN C·ª§C =====
    let currentRecordCount = 0;      // ƒê·∫øm s·ªë l∆∞·ª£ng l·ªùi ch√∫c hi·ªán t·∫°i
    let currentTheme = 'slate';      // Theme hi·ªán t·∫°i (m·∫∑c ƒë·ªãnh l√† x√°m)
    let autoThemeTimer = null;       // Timer cho vi·ªác t·ª± ƒë·ªông ƒë·ªïi m√†u
    let userInteracted = false;      // Ki·ªÉm tra ng∆∞·ªùi d√πng ƒë√£ t∆∞∆°ng t√°c ch∆∞a
    let themeIndex = 0;              // Ch·ªâ s·ªë theme trong danh s√°ch t·ª± ƒë·ªông
    let restartTimer = null;         // Timer ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i sau 15 gi√¢y
    let isAdminMode = false;         // Ch·∫ø ƒë·ªô qu·∫£n l√Ω c√≥ ƒëang b·∫≠t kh√¥ng
    let allMessages = [];            // L∆∞u tr·ªØ t·∫•t c·∫£ l·ªùi ch√∫c ƒë·ªÉ qu·∫£n l√Ω
    let isSelectionMode = false;     // Ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu c√≥ ƒëang b·∫≠t kh√¥ng
    let selectedMessages = new Set(); // Danh s√°ch ID c√°c l·ªùi ch√∫c ƒë∆∞·ª£c ch·ªçn
    
    // Danh s√°ch c√°c theme s·∫Ω t·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi (theo th·ª© t·ª±: h·ªìng ‚Üí n√¢u ‚Üí l·ª•c ‚Üí xanh)
    const autoThemes = ['rose', 'brown', 'emerald', 'deep'];

    // ===== T√çNH TO√ÅN NG√ÄY THI =====
    // T√≠nh to√°n ng√†y thi d·ª±a tr√™n th·ªùi gian c·ª• th·ªÉ: 222 ng√†y, 7 gi·ªù, 19 ph√∫t, 10 gi√¢y t·ª´ b√¢y gi·ªù
    // B·∫°n c√≥ th·ªÉ thay ƒë·ªïi c√°c s·ªë n√†y ƒë·ªÉ ƒëi·ªÅu ch·ªânh th·ªùi gian ƒë·∫øm ng∆∞·ª£c
    const now = new Date();
    const examDate = new Date(
      now.getTime() + 
      (222 * 24 * 60 * 60 * 1000) +  // 222 ng√†y (chuy·ªÉn ƒë·ªïi sang milliseconds)
      (7 * 60 * 60 * 1000) +         // 7 gi·ªù
      (19 * 60 * 1000) +             // 19 ph√∫t  
      (10 * 1000)                    // 10 gi√¢y
    ).getTime();

    // ===== T·∫†O HI·ªÜU ·ª®NG PARTICLES (H·∫†T BAY) =====
    
    /**
     * T·∫°o c√°c h·∫°t bay n·ªÅn - t·∫°o hi·ªáu ·ª©ng th·ªã gi√°c ƒë·∫πp m·∫Øt
     * B·∫°n c√≥ th·ªÉ thay ƒë·ªïi s·ªë 50 ƒë·ªÉ tƒÉng/gi·∫£m s·ªë l∆∞·ª£ng h·∫°t bay
     */
    function createParticles() {
      const particles = document.getElementById('particles');
      
      // T·∫°o 50 h·∫°t bay (c√≥ th·ªÉ thay ƒë·ªïi s·ªë n√†y)
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // ƒê·∫∑t v·ªã tr√≠ ng·∫´u nhi√™n t·ª´ tr√°i sang ph·∫£i (0% ƒë·∫øn 100%)
        particle.style.left = Math.random() * 100 + '%';
        
        // Th·ªùi gian b·∫Øt ƒë·∫ßu animation ng·∫´u nhi√™n (0-20 gi√¢y)
        particle.style.animationDelay = Math.random() * 20 + 's';
        
        // Th·ªùi gian bay ng·∫´u nhi√™n (15-25 gi√¢y)
        particle.style.animationDuration = (15 + Math.random() * 10) + 's';
        
        particles.appendChild(particle);
      }
    }

    /**
     * T·∫°o c√°c h·∫°t bay ƒë·∫∑c bi·ªát cho ph·∫ßn l·ªùi ch√∫c
     * C√≥ 3 lo·∫°i h√¨nh d·∫°ng: tr√≤n, vu√¥ng, kim c∆∞∆°ng
     */
    function createMessageParticles() {
      const messageParticles = document.getElementById('messageParticles');
      if (!messageParticles) return;  // Tho√°t n·∫øu kh√¥ng t√¨m th·∫•y container
      
      // 3 lo·∫°i h√¨nh d·∫°ng h·∫°t bay
      const particleTypes = ['circle', 'square', 'diamond'];
      
      // T·∫°o 40 h·∫°t bay cho ph·∫ßn l·ªùi ch√∫c (c√≥ th·ªÉ thay ƒë·ªïi s·ªë n√†y)
      for (let i = 0; i < 40; i++) {
        const particle = document.createElement('div');
        
        // Ch·ªçn ng·∫´u nhi√™n 1 trong 3 lo·∫°i h√¨nh d·∫°ng
        const type = particleTypes[Math.floor(Math.random() * particleTypes.length)];
        particle.className = `message-particle ${type}`;
        
        // V·ªã tr√≠ ngang ng·∫´u nhi√™n
        particle.style.left = Math.random() * 100 + '%';
        
        // Th·ªùi gian b·∫Øt ƒë·∫ßu ng·∫´u nhi√™n (0-8 gi√¢y)
        particle.style.animationDelay = Math.random() * 8 + 's';
        
        // Th·ªùi gian bay ng·∫´u nhi√™n (6-10 gi√¢y)
        particle.style.animationDuration = (6 + Math.random() * 4) + 's';
        
        messageParticles.appendChild(particle);
      }
    }

    // ===== H·ªÜ TH·ªêNG ƒê·ªîI THEME (CHUY·ªÇN ƒê·ªîI M√ÄU S·∫ÆC) =====
    
    /**
     * Chuy·ªÉn ƒë·ªïi theme (m√†u s·∫Øc) c·ªßa trang web
     * @param {string} theme - T√™n theme ('slate', 'rose', 'brown', 'emerald', 'deep')
     * @param {boolean} isAutomatic - C√≥ ph·∫£i l√† chuy·ªÉn ƒë·ªïi t·ª± ƒë·ªông kh√¥ng
     */
    function switchTheme(theme, isAutomatic = false) {
      const body = document.body;
      
      // Th√™m hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªïi m∆∞·ª£t m√† (1.5 gi√¢y)
      body.style.transition = 'all 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
      
      // X√≥a t·∫•t c·∫£ class theme c≈©
      body.className = body.className.replace(/theme-\w+/g, '');
      
      // Th√™m class theme m·ªõi (tr·ª´ 'slate' l√† m·∫∑c ƒë·ªãnh)
      if (theme !== 'slate') {
        body.classList.add(`theme-${theme}`);
      }
      
      // C·∫≠p nh·∫≠t n√∫t theme active
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`[data-theme="${theme}"]`).classList.add('active');
      
      currentTheme = theme;
      
      // N·∫øu ng∆∞·ªùi d√πng t∆∞∆°ng t√°c th·ªß c√¥ng (kh√¥ng ph·∫£i t·ª± ƒë·ªông)
      if (!isAutomatic) {
        userInteracted = true;        // ƒê√°nh d·∫•u ng∆∞·ªùi d√πng ƒë√£ t∆∞∆°ng t√°c
        stopAutoTheme();             // D·ª´ng ch·∫ø ƒë·ªô t·ª± ƒë·ªông
        startRestartTimer();         // B·∫Øt ƒë·∫ßu ƒë·∫øm ng∆∞·ª£c 15 gi√¢y ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i
      }
      
      // X√≥a transition sau khi ho√†n th√†nh ƒë·ªÉ tr√°nh lag
      setTimeout(() => {
        body.style.transition = '';
      }, 1500);
    }

    /**
     * B·∫Øt ƒë·∫ßu ch·∫ø ƒë·ªô t·ª± ƒë·ªông ƒë·ªïi m√†u
     * Ch·ªâ ho·∫°t ƒë·ªông khi ng∆∞·ªùi d√πng ch∆∞a t∆∞∆°ng t√°c
     */
    function startAutoTheme() {
      if (userInteracted) return;  // Kh√¥ng ch·∫°y n·∫øu ng∆∞·ªùi d√πng ƒë√£ t∆∞∆°ng t√°c
      
      // D·ª´ng timer kh·ªüi ƒë·ªông l·∫°i khi b·∫Øt ƒë·∫ßu auto theme
      stopRestartTimer();
      
      // ƒê·∫∑t timer chuy·ªÉn ƒë·ªïi theme m·ªói 8 gi√¢y
      autoThemeTimer = setInterval(() => {
        if (!userInteracted) {
          // L·∫•y theme ti·∫øp theo trong danh s√°ch
          const nextTheme = autoThemes[themeIndex];
          switchTheme(nextTheme, true);  // true = t·ª± ƒë·ªông
          
          // Chuy·ªÉn sang theme ti·∫øp theo (quay v√≤ng khi h·∫øt danh s√°ch)
          themeIndex = (themeIndex + 1) % autoThemes.length;
        } else {
          // N·∫øu ng∆∞·ªùi d√πng ƒë√£ t∆∞∆°ng t√°c, d·ª´ng auto theme
          stopAutoTheme();
        }
      }, 8000); // 8000ms = 8 gi√¢y (c√≥ th·ªÉ thay ƒë·ªïi th·ªùi gian n√†y)
    }

    /**
     * D·ª´ng ch·∫ø ƒë·ªô t·ª± ƒë·ªông ƒë·ªïi m√†u
     */
    function stopAutoTheme() {
      if (autoThemeTimer) {
        clearInterval(autoThemeTimer);
        autoThemeTimer = null;
      }
    }

    /**
     * B·∫Øt ƒë·∫ßu timer kh·ªüi ƒë·ªông l·∫°i sau 15 gi√¢y kh√¥ng t∆∞∆°ng t√°c
     * Sau 15 gi√¢y, s·∫Ω t·ª± ƒë·ªông b·∫≠t l·∫°i ch·∫ø ƒë·ªô ƒë·ªïi m√†u t·ª± ƒë·ªông
     */
    function startRestartTimer() {
      // X√≥a timer c≈© n·∫øu c√≥ (tr√°nh nhi·ªÅu timer ch·∫°y c√πng l√∫c)
      if (restartTimer) {
        clearTimeout(restartTimer);
      }
      
      // ƒê·∫∑t timer m·ªõi 15 gi√¢y
      restartTimer = setTimeout(() => {
        userInteracted = false;  // Reset tr·∫°ng th√°i t∆∞∆°ng t√°c
        startAutoTheme();        // Kh·ªüi ƒë·ªông l·∫°i ch·∫ø ƒë·ªô t·ª± ƒë·ªông
        restartTimer = null;
      }, 15000); // 15000ms = 15 gi√¢y (c√≥ th·ªÉ thay ƒë·ªïi th·ªùi gian n√†y)
    }

    /**
     * D·ª´ng timer kh·ªüi ƒë·ªông l·∫°i
     */
    function stopRestartTimer() {
      if (restartTimer) {
        clearTimeout(restartTimer);
        restartTimer = null;
      }
    }

    // ===== H·ªÜ TH·ªêNG ƒê·∫æM NG∆Ø·ª¢C =====
    
    /**
     * C·∫≠p nh·∫≠t b·ªô ƒë·∫øm ng∆∞·ª£c m·ªói gi√¢y
     * T√≠nh to√°n v√† hi·ªÉn th·ªã s·ªë ng√†y, gi·ªù, ph√∫t, gi√¢y c√≤n l·∫°i ƒë·∫øn k·ª≥ thi
     */
    function updateCountdown() {
      const now = new Date().getTime();           // Th·ªùi gian hi·ªán t·∫°i
      const distance = examDate - now;            // Kho·∫£ng c√°ch th·ªùi gian c√≤n l·∫°i

      // N·∫øu ƒë√£ h·∫øt th·ªùi gian (distance < 0)
      if (distance < 0) {
        document.querySelector('.hero-title').textContent = 'ƒê√É ƒê·∫æN GI·ªú CHINH PH·ª§C ∆Ø·ªöC M∆†';
        document.getElementById('days').textContent = '0';
        document.getElementById('hours').textContent = '0';
        document.getElementById('minutes').textContent = '0';
        document.getElementById('seconds').textContent = '0';
        return;
      }

      // T√≠nh to√°n t·ª´ng ƒë∆°n v·ªã th·ªùi gian
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));                    // S·ªë ng√†y
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)); // S·ªë gi·ªù
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));         // S·ªë ph√∫t
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);                     // S·ªë gi√¢y

      // C·∫≠p nh·∫≠t t·ª´ng s·ªë v·ªõi hi·ªáu ·ª©ng animation
      updateNumberWithAnimation('days', days);
      updateNumberWithAnimation('hours', hours);
      updateNumberWithAnimation('minutes', minutes);
      updateNumberWithAnimation('seconds', seconds);
    }

    /**
     * C·∫≠p nh·∫≠t s·ªë v·ªõi hi·ªáu ·ª©ng animation ƒë·∫πp m·∫Øt
     * @param {string} id - ID c·ªßa element c·∫ßn c·∫≠p nh·∫≠t
     * @param {number} newValue - Gi√° tr·ªã m·ªõi
     */
    function updateNumberWithAnimation(id, newValue) {
      const element = document.getElementById(id);
      const currentValue = element.textContent;
      
      // Ch·ªâ th√™m animation khi gi√° tr·ªã thay ƒë·ªïi
      if (currentValue !== newValue.toString()) {
        
        // Th√™m hi·ªáu ·ª©ng l·∫≠t s·ªë (flip animation)
        element.classList.add('number-flip');
        
        // Th√™m hi·ªáu ·ª©ng ph√°t s√°ng cho gi√¢y (thay ƒë·ªïi th∆∞·ªùng xuy√™n nh·∫•t)
        if (id === 'seconds') {
          element.classList.add('number-glow');
        }
        
        // Th√™m hi·ªáu ·ª©ng nh·∫•p nh√°y cho ph√∫t (m·ªói 5 ph√∫t)
        if (id === 'minutes' && newValue % 5 === 0) {
          element.classList.add('number-pulse');
        }
        
        // C·∫≠p nh·∫≠t s·ªë ·ªü gi·ªØa animation (sau 400ms)
        setTimeout(() => {
          element.textContent = newValue;
        }, 400);
        
        // X√≥a t·∫•t c·∫£ class animation sau khi ho√†n th√†nh (800ms)
        setTimeout(() => {
          element.classList.remove('number-flip', 'number-glow', 'number-pulse');
        }, 800);
        
        // Th√™m hi·ªáu ·ª©ng rung nh·∫π cho c√°c m·ªëc quan tr·ªçng
        if ((id === 'days' && newValue % 10 === 0) ||     // M·ªói 10 ng√†y
            (id === 'hours' && newValue === 0) ||         // Khi gi·ªù v·ªÅ 0
            (id === 'minutes' && newValue === 0 && id !== 'seconds')) { // Khi ph√∫t v·ªÅ 0
          
          element.parentElement.style.animation = 'gentleShake 0.5s ease-in-out';
          setTimeout(() => {
            element.parentElement.style.animation = '';
          }, 500);
        }
      }
    }

    // Add gentle shake animation for milestones
    const shakeKeyframes = `
      @keyframes gentleShake {
        0%, 100% { transform: translateX(0) translateY(0); }
        25% { transform: translateX(-2px) translateY(-1px); }
        50% { transform: translateX(2px) translateY(1px); }
        75% { transform: translateX(-1px) translateY(1px); }
      }
    `;
    
    // Inject shake animation
    if (!document.querySelector('#shake-styles')) {
      const style = document.createElement('style');
      style.id = 'shake-styles';
      style.textContent = shakeKeyframes;
      document.head.appendChild(style);
    }

    // ===== H·ªÜ TH·ªêNG L∆ØU TR·ªÆ D·ªÆ LI·ªÜU (LOCAL STORAGE) =====
    
    /**
     * L∆∞u d·ªØ li·ªáu v√†o localStorage
     */
    function saveMessages(messages) {
      try {
        localStorage.setItem('thpt_messages', JSON.stringify(messages));
      } catch (error) {
        console.error('Kh√¥ng th·ªÉ l∆∞u d·ªØ li·ªáu:', error);
      }
    }

    /**
     * T·∫£i d·ªØ li·ªáu t·ª´ localStorage
     */
    function loadMessages() {
      try {
        const saved = localStorage.getItem('thpt_messages');
        return saved ? JSON.parse(saved) : [];
      } catch (error) {
        console.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu:', error);
        return [];
      }
    }

    /**
     * C·∫≠p nh·∫≠t hi·ªÉn th·ªã d·ªØ li·ªáu
     */
    function updateData() {
      allMessages = loadMessages();
      currentRecordCount = allMessages.length;
      renderMessages(allMessages);
      updateAdminStats(allMessages);
    }

    /**
     * Hi·ªÉn th·ªã danh s√°ch l·ªùi ch√∫c l√™n giao di·ªán
     * @param {Array} messages - M·∫£ng c√°c l·ªùi ch√∫c t·ª´ database
     */
    function renderMessages(messages) {
      const container = document.getElementById('messagesContainer');
      
      // N·∫øu ch∆∞a c√≥ l·ªùi ch√∫c n√†o
      if (messages.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: var(--text-dim); font-style: italic;">Ch∆∞a c√≥ l·ªùi ch√∫c n√†o. H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n g·ª≠i l·ªùi ƒë·ªông vi√™n!</p>';
        return;
      }

      // S·∫Øp x·∫øp theo th·ªùi gian (m·ªõi nh·∫•t l√™n ƒë·∫ßu)
      const sortedMessages = [...messages].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
      
      // T·∫°o HTML cho t·ª´ng l·ªùi ch√∫c (c√≥ th√™m n√∫t qu·∫£n l√Ω n·∫øu ƒëang ·ªü ch·∫ø ƒë·ªô admin)
      container.innerHTML = sortedMessages.map((msg, index) => {
        const animationClass = index % 3 === 0 ? 'scroll-reveal' : 
                             index % 3 === 1 ? 'scroll-reveal-left' : 'scroll-reveal-right';
        const isSelected = selectedMessages.has(msg.__backendId);
        
        return `
          <div class="message-card ${animationClass} ${isSelected ? 'selected' : ''}" 
               data-message-id="${msg.__backendId}"
               ${isSelectionMode ? `onclick="toggleMessageSelection('${msg.__backendId}')"` : ''}>
            
            <!-- Checkbox cho ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu -->
            <div class="message-checkbox ${isSelected ? 'checked' : ''}" 
                 onclick="event.stopPropagation(); toggleMessageSelection('${msg.__backendId}')"></div>
            
            ${isAdminMode && !isSelectionMode ? `
              <div class="message-actions">
                <button class="message-action-btn delete-btn" onclick="deleteMessage('${msg.__backendId}')" title="X√≥a l·ªùi ch√∫c">
                  üóëÔ∏è
                </button>
              </div>
            ` : ''}
            <div class="message-text">${msg.message}</div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <span class="message-author">‚Äî ${msg.author}</span>
              <span class="message-time">${formatTime(msg.timestamp)}</span>
            </div>
          </div>
        `;
      }).join('');

      // Th√™m class admin-mode v√† selection-mode cho container
      if (isAdminMode) {
        container.classList.add('admin-mode');
      } else {
        container.classList.remove('admin-mode');
      }
      
      if (isSelectionMode) {
        container.classList.add('selection-mode');
      } else {
        container.classList.remove('selection-mode');
      }

      // Re-observe new message cards for scroll animations
      setTimeout(() => {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('revealed');
            }
          });
        }, observerOptions);

        container.querySelectorAll('.message-card').forEach(card => {
          observer.observe(card);
        });
      }, 100);
    }

    /**
     * ƒê·ªãnh d·∫°ng th·ªùi gian hi·ªÉn th·ªã
     * @param {string} timestamp - Chu·ªói th·ªùi gian ISO
     * @returns {string} - Th·ªùi gian ƒë√£ ƒë·ªãnh d·∫°ng (dd/mm/yyyy hh:mm)
     */
    function formatTime(timestamp) {
      const date = new Date(timestamp);
      return date.toLocaleDateString('vi-VN') + ' ' + date.toLocaleTimeString('vi-VN', { 
        hour: '2-digit', 
        minute: '2-digit' 
      });
    }

    // Form submission
    function handleFormSubmit(event) {
      event.preventDefault();
      
      if (currentRecordCount >= 999) {
        showNotification('ƒê√£ ƒë·∫°t gi·ªõi h·∫°n t·ªëi ƒëa 999 l·ªùi ch√∫c. C·∫£m ∆°n s·ª± ·ªßng h·ªô c·ªßa b·∫°n!', 'warning');
        return;
      }

      const submitBtn = document.getElementById('submitBtn');
      const submitText = document.getElementById('submitText');
      const submitSpinner = document.getElementById('submitSpinner');
      const form = document.getElementById('messageForm');
      const formContainer = document.querySelector('.form-container');

      // Add shake animation
      formContainer.classList.add('form-shake');
      setTimeout(() => formContainer.classList.remove('form-shake'), 500);

      // Show loading state
      submitBtn.disabled = true;
      submitBtn.classList.add('loading');
      submitText.style.display = 'none';
      submitSpinner.style.display = 'inline-block';

      try {
        const authorInput = document.getElementById('authorInput').value.trim();
        const message = document.getElementById('messageInput').value.trim();
        const isAnonymous = document.getElementById('anonymousCheck').checked;
        
        const author = isAnonymous ? '·∫®n danh' : (authorInput || '·∫®n danh');

        const newMessage = {
          __backendId: Date.now().toString(),
          id: Date.now().toString(),
          author: author,
          message: message,
          timestamp: new Date().toISOString()
        };

        // L∆∞u v√†o localStorage
        allMessages.push(newMessage);
        saveMessages(allMessages);
        updateData();
        
        // Fade out form
        formContainer.style.opacity = '0.3';
        
        // Show success message
        setTimeout(() => {
          const successMsg = document.createElement('div');
          successMsg.className = 'success-message';
          successMsg.textContent = 'L·ªùi ch√∫c ƒë√£ ƒë∆∞·ª£c g·ª≠i üíö';
          formContainer.appendChild(successMsg);
          
          setTimeout(() => successMsg.classList.add('show'), 100);
          
          // Reset form after delay
          setTimeout(() => {
            form.reset();
            
            // Reset tr·∫°ng th√°i checkbox ·∫©n danh v√† m·ªü kh√≥a √¥ t√™n
            const anonymousCheck = document.getElementById('anonymousCheck');
            const authorInput = document.getElementById('authorInput');
            const authorGroup = authorInput.closest('.form-group');
            
            anonymousCheck.checked = false;
            authorInput.disabled = false;
            authorInput.setAttribute('required', '');
            authorGroup.style.opacity = '1';
            authorInput.placeholder = 'Nh·∫≠p t√™n c·ªßa b·∫°n';
            
            formContainer.style.opacity = '1';
            successMsg.remove();
          }, 2000);
        }, 300);
          
      } catch (error) {
        formContainer.style.opacity = '1';
        showNotification('C√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i!', 'error');
      } finally {
        // Hide loading state
        submitBtn.disabled = false;
        submitBtn.classList.remove('loading');
        submitText.style.display = 'inline';
        submitSpinner.style.display = 'none';
      }
    }

    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: ${type === 'success' ? 'var(--secondary)' : type === 'warning' ? '#F59E0B' : '#EF4444'};
        color: white;
        padding: 1rem 2rem;
        border-radius: 12px;
        font-weight: 600;
        z-index: 10000;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        animation: fadeInUp 0.3s ease-out;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.style.animation = 'fadeInUp 0.3s ease-out reverse';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    function showDetailedNotification(title, message, type) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        color: #2c3e50;
        padding: 2rem;
        border-radius: 16px;
        font-weight: 500;
        z-index: 10000;
        box-shadow: 0 25px 80px rgba(0,0,0,0.3);
        animation: fadeInUp 0.4s ease-out;
        max-width: 400px;
        text-align: center;
        border: 2px solid ${type === 'success' ? '#10B981' : type === 'warning' ? '#F59E0B' : '#EF4444'};
      `;
      
      notification.innerHTML = `
        <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem; color: ${type === 'success' ? '#10B981' : type === 'warning' ? '#F59E0B' : '#EF4444'};">
          ${title}
        </div>
        <div style="line-height: 1.6; white-space: pre-line; margin-bottom: 1.5rem; font-size: 0.95rem;">
          ${message}
        </div>
        <button onclick="this.parentElement.remove()" style="
          background: ${type === 'success' ? '#10B981' : type === 'warning' ? '#F59E0B' : '#EF4444'};
          color: white;
          border: none;
          padding: 0.8rem 1.5rem;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
          ƒê√£ hi·ªÉu üëç
        </button>
      `;
      
      document.body.appendChild(notification);

      // T·ª± ƒë·ªông ·∫©n sau 8 gi√¢y
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'fadeInUp 0.4s ease-out reverse';
          setTimeout(() => {
            if (notification.parentElement) {
              notification.remove();
            }
          }, 400);
        }
      }, 8000);
    }

    // Configuration is now handled by defaultConfig object at the top

    // Scroll reveal functionality
    function initScrollReveal() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
          }
        });
      }, observerOptions);

      // Observe all scroll reveal elements
      document.querySelectorAll('.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale, .scroll-reveal-fade').forEach(el => {
        observer.observe(el);
      });
    }

    // ===== C√ÅC H√ÄM QU·∫¢N L√ù ADMIN =====
    
    /**
     * B·∫≠t/t·∫Øt ch·∫ø ƒë·ªô qu·∫£n l√Ω admin
     */
    function toggleAdminMode() {
      isAdminMode = !isAdminMode;
      const adminPanel = document.getElementById('adminPanel');
      const adminToggleText = document.getElementById('adminToggleText');
      
      if (isAdminMode) {
        adminPanel.style.display = 'block';
        setTimeout(() => adminPanel.classList.add('show'), 10);
        adminToggleText.textContent = '‚ùå ƒê√≥ng qu·∫£n l√Ω';
        updateAdminStats(allMessages);
      } else {
        adminPanel.classList.remove('show');
        setTimeout(() => adminPanel.style.display = 'none', 500);
        adminToggleText.textContent = 'üîß Qu·∫£n l√Ω';
        
        // Tho√°t ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu khi ƒë√≥ng admin
        if (isSelectionMode) {
          exitSelectionMode();
        }
      }
      
      // Render l·∫°i messages ƒë·ªÉ hi·ªÉn th·ªã/·∫©n n√∫t qu·∫£n l√Ω
      renderMessages(allMessages);
    }

    /**
     * B·∫≠t/t·∫Øt ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu
     */
    function toggleSelectionMode() {
      if (isSelectionMode) {
        exitSelectionMode();
      } else {
        enterSelectionMode();
      }
    }

    /**
     * V√†o ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu
     */
    function enterSelectionMode() {
      isSelectionMode = true;
      selectedMessages.clear();
      
      // Hi·ªÉn th·ªã thanh c√¥ng c·ª•
      const toolbar = document.getElementById('selectionToolbar');
      toolbar.style.display = 'block';
      
      // C·∫≠p nh·∫≠t n√∫t
      const selectModeBtn = document.getElementById('selectModeBtn');
      selectModeBtn.textContent = '‚Ü©Ô∏è Tho√°t ch·ªçn';
      selectModeBtn.style.background = 'rgba(75, 85, 99, 0.8)';
      
      // Render l·∫°i messages
      renderMessages(allMessages);
      updateSelectedCount();
    }

    /**
     * Tho√°t ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu
     */
    function exitSelectionMode() {
      isSelectionMode = false;
      selectedMessages.clear();
      
      // ·∫®n thanh c√¥ng c·ª•
      const toolbar = document.getElementById('selectionToolbar');
      toolbar.style.display = 'none';
      
      // C·∫≠p nh·∫≠t n√∫t
      const selectModeBtn = document.getElementById('selectModeBtn');
      selectModeBtn.textContent = '‚òëÔ∏è Ch·ªçn nhi·ªÅu';
      selectModeBtn.style.background = 'linear-gradient(135deg, #8B5CF6, #A855F7)';
      
      // Render l·∫°i messages
      renderMessages(allMessages);
    }

    /**
     * Ch·ªçn/b·ªè ch·ªçn m·ªôt l·ªùi ch√∫c
     * @param {string} messageId - ID c·ªßa l·ªùi ch√∫c
     */
    function toggleMessageSelection(messageId) {
      if (!isSelectionMode) return;
      
      if (selectedMessages.has(messageId)) {
        selectedMessages.delete(messageId);
      } else {
        selectedMessages.add(messageId);
      }
      
      // C·∫≠p nh·∫≠t giao di·ªán
      const messageCard = document.querySelector(`[data-message-id="${messageId}"]`);
      const checkbox = messageCard.querySelector('.message-checkbox');
      
      if (selectedMessages.has(messageId)) {
        messageCard.classList.add('selected');
        checkbox.classList.add('checked');
      } else {
        messageCard.classList.remove('selected');
        checkbox.classList.remove('checked');
      }
      
      updateSelectedCount();
    }

    /**
     * Ch·ªçn t·∫•t c·∫£ l·ªùi ch√∫c
     */
    function selectAllMessages() {
      allMessages.forEach(msg => {
        selectedMessages.add(msg.__backendId);
      });
      renderMessages(allMessages);
      updateSelectedCount();
    }

    /**
     * B·ªè ch·ªçn t·∫•t c·∫£ l·ªùi ch√∫c
     */
    function deselectAllMessages() {
      selectedMessages.clear();
      renderMessages(allMessages);
      updateSelectedCount();
    }

    /**
     * C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng l·ªùi ch√∫c ƒë∆∞·ª£c ch·ªçn
     */
    function updateSelectedCount() {
      const countElement = document.getElementById('selectedCount');
      if (countElement) {
        countElement.textContent = selectedMessages.size;
      }
      
      // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t x√≥a
      const deleteBtn = document.getElementById('deleteSelectedBtn');
      if (deleteBtn) {
        deleteBtn.disabled = selectedMessages.size === 0;
        deleteBtn.style.opacity = selectedMessages.size === 0 ? '0.5' : '1';
      }
    }

    /**
     * X√≥a c√°c l·ªùi ch√∫c ƒë√£ ch·ªçn
     */
    function deleteSelectedMessages() {
      if (selectedMessages.size === 0) {
        showNotification('Ch∆∞a ch·ªçn l·ªùi ch√∫c n√†o ƒë·ªÉ x√≥a!', 'warning');
        return;
      }
      
      const selectedCount = selectedMessages.size;
      const selectedMessagesArray = Array.from(selectedMessages);
      
      // Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u
      showPasswordDialog(
        'X√°c th·ª±c x√≥a nhi·ªÅu l·ªùi ch√∫c',
        `B·∫°n s·∫Øp x√≥a ${selectedCount} l·ªùi ch√∫c ƒë√£ ch·ªçn!\n\nH√†nh ƒë·ªông n√†y KH√îNG TH·ªÇ HO√ÄN T√ÅC!\n\nNh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c:`,
        (password) => {
          // Ki·ªÉm tra m·∫≠t kh·∫©u
          if (password !== 'admin123') {
            showNotification('M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng! üîí', 'error');
            return;
          }
          
          const deleteBtn = document.getElementById('deleteSelectedBtn');
          deleteBtn.disabled = true;
          deleteBtn.innerHTML = '<span class="spinner"></span> ƒêang x√≥a...';
          
          try {
            // X√≥a c√°c l·ªùi ch√∫c ƒë√£ ch·ªçn
            allMessages = allMessages.filter(msg => !selectedMessages.has(msg.__backendId));
            saveMessages(allMessages);
            updateData();
            
            showNotification(`ƒê√£ x√≥a ${selectedCount} l·ªùi ch√∫c th√†nh c√¥ng! üóëÔ∏è`, 'success');
            
            // Tho√°t ch·∫ø ƒë·ªô ch·ªçn nhi·ªÅu
            exitSelectionMode();
            
          } catch (error) {
            showNotification('C√≥ l·ªói khi x√≥a l·ªùi ch√∫c!', 'error');
          } finally {
            deleteBtn.disabled = false;
            deleteBtn.innerHTML = 'üóëÔ∏è X√≥a ƒë√£ ch·ªçn';
          }
        }
      );
    }

    /**
     * C·∫≠p nh·∫≠t th·ªëng k√™ trong b·∫£ng qu·∫£n l√Ω
     * @param {Array} messages - Danh s√°ch t·∫•t c·∫£ l·ªùi ch√∫c
     */
    function updateAdminStats(messages) {
      if (!isAdminMode) return;
      
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      // ƒê·∫øm s·ªë l·ªùi ch√∫c h√¥m nay
      const todayCount = messages.filter(msg => {
        const msgDate = new Date(msg.timestamp);
        msgDate.setHours(0, 0, 0, 0);
        return msgDate.getTime() === today.getTime();
      }).length;
      
      // ƒê·∫øm s·ªë l·ªùi ch√∫c ·∫©n danh
      const anonymousCount = messages.filter(msg => 
        msg.author === '·∫®n danh' || msg.author.toLowerCase().includes('·∫©n danh')
      ).length;
      
      // C·∫≠p nh·∫≠t hi·ªÉn th·ªã
      document.getElementById('totalMessages').textContent = messages.length;
      document.getElementById('todayMessages').textContent = todayCount;
      document.getElementById('anonymousMessages').textContent = anonymousCount;
    }

    // ===== C·∫§U H√åNH TEMPLATE FILE XU·∫§T =====
    // ƒê√¢y l√† n∆°i b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng ch·ªânh s·ª≠a n·ªôi dung v√† giao di·ªán c·ªßa file xu·∫•t
    const FILE_EXPORT_CONFIG = {
      // Th√¥ng tin c∆° b·∫£n
      title: "T·∫¨P H·ª¢P L·ªúI CH√öC THI THPT QU·ªêC GIA 2025",
      subtitle: "Nh·ªØng l·ªùi ƒë·ªông vi√™n ch√¢n th√†nh t·ª´ c·ªông ƒë·ªìng",
      description: "File n√†y ch·ª©a t·∫•t c·∫£ l·ªùi ch√∫c ƒë·ªông vi√™n ƒë∆∞·ª£c g·ª≠i ƒë·∫øn c√°c sƒ© t·ª≠ THPT Qu·ªëc Gia 2025. ƒê√¢y l√† nh·ªØng t√¢m t√¨nh ch√¢n th√†nh t·ª´ c·ªông ƒë·ªìng, mong mu·ªën c√°c em ƒë·∫°t k·∫øt qu·∫£ cao trong k·ª≥ thi quan tr·ªçng.",
      
      // T√™n file (kh√¥ng bao g·ªìm ph·∫ßn m·ªü r·ªông .html)
      fileNamePrefix: "Loi-Chuc-Thi-THPT",
      
      // M√†u s·∫Øc ch·ªß ƒë·∫°o (c√≥ th·ªÉ thay ƒë·ªïi theo s·ªü th√≠ch)
      colors: {
        primary: "#667eea",      // M√†u ch√≠nh (header, accent)
        secondary: "#764ba2",    // M√†u ph·ª• (gradient)
        success: "#28a745",      // M√†u xanh l√° (border l·ªùi ch√∫c)
        info: "#17a2b8",         // M√†u xanh d∆∞∆°ng (th√¥ng tin)
        text: "#2c3e50",         // M√†u ch·ªØ ch√≠nh
        textMuted: "#6c757d",    // M√†u ch·ªØ m·ªù
        background: "#f8f9fa",   // M√†u n·ªÅn
        white: "#ffffff"         // M√†u tr·∫Øng
      },
      
      // Bi·ªÉu t∆∞·ª£ng emoji
      icons: {
        graduation: "üéì",
        book: "üìö",
        stats: "üìä",
        message: "üíå",
        note: "üìù",
        calendar: "üìÖ",
        heart: "üíù"
      },
      
      // Th·ªëng k√™ hi·ªÉn th·ªã
      stats: {
        total: { label: "T·ªïng l·ªùi ch√∫c", show: true },
        today: { label: "L·ªùi ch√∫c h√¥m nay", show: true },
        anonymous: { label: "L·ªùi ch√∫c ·∫©n danh", show: true },
        exportDate: { label: "Ng√†y xu·∫•t file", show: true }
      },
      
      // Th√¥ng ƒëi·ªáp cu·ªëi file
      footer: {
        mainMessage: "Ch√∫c c√°c sƒ© t·ª≠ THPT Qu·ªëc Gia 2025 ƒë·∫°t k·∫øt qu·∫£ cao!",
        showExportTime: true,
        showTotalCount: true
      },
      
      // C√†i ƒë·∫∑t hi·ªÉn th·ªã
      display: {
        showQuotationMarks: true,    // Hi·ªÉn th·ªã d·∫•u ngo·∫∑c k√©p
        sortOrder: "newest",         // "newest" ho·∫∑c "oldest"
        showHoverEffects: true,      // Hi·ªáu ·ª©ng hover
        responsiveDesign: true       // Thi·∫øt k·∫ø responsive
      }
    };

    /**
     * T·∫°o CSS cho file xu·∫•t d·ª±a tr√™n c·∫•u h√¨nh
     */
    function generateExportCSS(config) {
      return `
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
            color: ${config.colors.text};
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: ${config.colors.white};
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, ${config.colors.primary} 0%, ${config.colors.secondary} 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        
        .header::before {
            content: '${config.icons.graduation}';
            font-size: 60px;
            position: absolute;
            top: 20px;
            left: 30px;
            opacity: 0.3;
        }
        
        .header::after {
            content: '${config.icons.book}';
            font-size: 60px;
            position: absolute;
            top: 20px;
            right: 30px;
            opacity: 0.3;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
            font-style: italic;
        }
        
        .stats {
            background: ${config.colors.background};
            padding: 25px 30px;
            border-bottom: 3px solid #e9ecef;
        }
        
        .stats h2 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .stat-item {
            background: ${config.colors.white};
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 4px solid ${config.colors.primary};
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: ${config.colors.primary};
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: ${config.colors.textMuted};
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .content {
            padding: 30px;
        }
        
        .section-title {
            color: #495057;
            margin-bottom: 25px;
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }
        
        .message-item {
            background: ${config.colors.background};
            margin-bottom: 20px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 4px solid ${config.colors.success};
            ${config.display.showHoverEffects ? 'transition: transform 0.2s ease;' : ''}
        }
        
        ${config.display.showHoverEffects ? `
        .message-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        ` : ''}
        
        .message-content {
            padding: 20px;
        }
        
        .message-text {
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 15px;
            color: ${config.colors.text};
            font-style: italic;
            position: relative;
            ${config.display.showQuotationMarks ? 'padding-left: 20px;' : ''}
        }
        
        ${config.display.showQuotationMarks ? `
        .message-text::before {
            content: '"';
            font-size: 40px;
            color: ${config.colors.primary};
            position: absolute;
            left: -5px;
            top: -10px;
            opacity: 0.5;
        }
        ` : ''}
        
        .message-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #e9ecef;
        }
        
        .message-author {
            font-weight: bold;
            color: ${config.colors.primary};
            font-size: 14px;
        }
        
        .message-time {
            color: ${config.colors.textMuted};
            font-size: 12px;
        }
        
        .footer {
            background: ${config.colors.text};
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        .footer p {
            margin-bottom: 10px;
            opacity: 0.9;
        }
        
        .export-info {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid ${config.colors.info};
        }
        
        .export-info strong {
            color: ${config.colors.info};
        }
        
        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; }
            .message-item { break-inside: avoid; }
        }
        
        ${config.display.responsiveDesign ? `
        @media (max-width: 600px) {
            .header { padding: 30px 20px; }
            .content, .stats { padding: 20px; }
            .stats-grid { grid-template-columns: 1fr; }
            .message-meta { flex-direction: column; gap: 5px; align-items: flex-start; }
        }
        ` : ''}
      `;
    }

    /**
     * T·∫°o HTML cho ph·∫ßn th·ªëng k√™
     */
    function generateStatsHTML(config, sortedMessages, todayCount, anonymousCount) {
      const statsItems = [];
      
      if (config.stats.total.show) {
        statsItems.push(`
          <div class="stat-item">
            <div class="stat-number">${sortedMessages.length}</div>
            <div class="stat-label">${config.stats.total.label}</div>
          </div>
        `);
      }
      
      if (config.stats.today.show) {
        statsItems.push(`
          <div class="stat-item">
            <div class="stat-number">${todayCount}</div>
            <div class="stat-label">${config.stats.today.label}</div>
          </div>
        `);
      }
      
      if (config.stats.anonymous.show) {
        statsItems.push(`
          <div class="stat-item">
            <div class="stat-number">${anonymousCount}</div>
            <div class="stat-label">${config.stats.anonymous.label}</div>
          </div>
        `);
      }
      
      if (config.stats.exportDate.show) {
        statsItems.push(`
          <div class="stat-item">
            <div class="stat-number">${new Date().toLocaleDateString('vi-VN')}</div>
            <div class="stat-label">${config.stats.exportDate.label}</div>
          </div>
        `);
      }
      
      return `
        <div class="stats">
          <h2>${config.icons.stats} Th·ªëng k√™ t·ªïng quan</h2>
          <div class="stats-grid">
            ${statsItems.join('')}
          </div>
        </div>
      `;
    }

    /**
     * T·∫°o HTML cho ph·∫ßn footer
     */
    function generateFooterHTML(config, messageCount) {
      const footerItems = [];
      
      footerItems.push(`<p>${config.icons.graduation} <strong>${config.footer.mainMessage}</strong></p>`);
      
      if (config.footer.showExportTime) {
        footerItems.push(`<p>${config.icons.calendar} File ƒë∆∞·ª£c t·∫°o v√†o: ${new Date().toLocaleString('vi-VN')}</p>`);
      }
      
      if (config.footer.showTotalCount) {
        footerItems.push(`<p>${config.icons.heart} T·ªïng c·ªông ${messageCount} l·ªùi ch√∫c t·ª´ c·ªông ƒë·ªìng</p>`);
      }
      
      return `
        <div class="footer">
          ${footerItems.join('')}
        </div>
      `;
    }

    /**
     * Xu·∫•t d·ªØ li·ªáu l·ªùi ch√∫c ra file HTML ƒë·∫πp m·∫Øt v√† c√≥ th·ªÉ t√πy ch·ªânh
     */
    function exportData() {
      if (allMessages.length === 0) {
        showNotification('Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ xu·∫•t!', 'warning');
        return;
      }
      
      const exportBtn = document.getElementById('exportBtn');
      exportBtn.disabled = true;
      exportBtn.innerHTML = '<span class="spinner"></span> ƒêang t·∫°o file...';
      
      try {
        // S·∫Øp x·∫øp l·ªùi ch√∫c theo c·∫•u h√¨nh
        const sortedMessages = [...allMessages].sort((a, b) => {
          if (FILE_EXPORT_CONFIG.display.sortOrder === 'newest') {
            return new Date(b.timestamp) - new Date(a.timestamp);
          } else {
            return new Date(a.timestamp) - new Date(b.timestamp);
          }
        });
        
        // T√≠nh to√°n th·ªëng k√™
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const todayCount = sortedMessages.filter(msg => {
          const msgDate = new Date(msg.timestamp);
          msgDate.setHours(0, 0, 0, 0);
          return msgDate.getTime() === today.getTime();
        }).length;
        
        const anonymousCount = sortedMessages.filter(msg => 
          msg.author === '·∫®n danh' || msg.author.toLowerCase().includes('·∫©n danh')
        ).length;
        
        // T·∫°o HTML ho√†n ch·ªânh
        const htmlContent = `<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${FILE_EXPORT_CONFIG.title}</title>
    <style>
        ${generateExportCSS(FILE_EXPORT_CONFIG)}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>${FILE_EXPORT_CONFIG.title}</h1>
            <p>${FILE_EXPORT_CONFIG.subtitle}</p>
        </div>
        
        ${generateStatsHTML(FILE_EXPORT_CONFIG, sortedMessages, todayCount, anonymousCount)}
        
        <div class="content">
            <div class="export-info">
                <strong>${FILE_EXPORT_CONFIG.icons.note} L∆∞u √Ω:</strong> ${FILE_EXPORT_CONFIG.description}
            </div>
            
            <h2 class="section-title">${FILE_EXPORT_CONFIG.icons.message} Danh s√°ch l·ªùi ch√∫c</h2>
            
            ${sortedMessages.map((msg, index) => `
                <div class="message-item">
                    <div class="message-content">
                        <div class="message-text">${msg.message}</div>
                        <div class="message-meta">
                            <span class="message-author">‚Äî ${msg.author}</span>
                            <span class="message-time">${formatTime(msg.timestamp)}</span>
                        </div>
                    </div>
                </div>
            `).join('')}
        </div>
        
        ${generateFooterHTML(FILE_EXPORT_CONFIG, sortedMessages.length)}
    </div>
</body>
</html>`;
        
        // T·∫°o t√™n file v·ªõi timestamp
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T');
        const fileName = `${FILE_EXPORT_CONFIG.fileNamePrefix}-${timestamp[0]}-${timestamp[1].split('.')[0]}.html`;
        
        // Th·ª≠ t·∫£i xu·ªëng file
        try {
          const dataBlob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
          const url = URL.createObjectURL(dataBlob);
          
          const link = document.createElement('a');
          link.href = url;
          link.download = fileName;
          link.style.display = 'none';
          
          document.body.appendChild(link);
          
          if (link.click) {
            link.click();
          } else {
            const event = new MouseEvent('click', {
              view: window,
              bubbles: true,
              cancelable: true
            });
            link.dispatchEvent(event);
          }
          
          setTimeout(() => {
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
          }, 100);
          
          showDetailedNotification(
            'üéâ T·∫°o file th√†nh c√¥ng!',
            `File "${fileName}" ƒë√£ ƒë∆∞·ª£c t·∫°o!\n\nüìÅ C√°ch t√¨m file:\n‚Ä¢ Ki·ªÉm tra th∆∞ m·ª•c "Downloads" ho·∫∑c "T·∫£i xu·ªëng"\n‚Ä¢ Nh·∫•n Ctrl+J (Windows) ho·∫∑c Cmd+Shift+J (Mac) ƒë·ªÉ xem l·ªãch s·ª≠ t·∫£i\n‚Ä¢ Ki·ªÉm tra thanh t·∫£i xu·ªëng ·ªü g√≥c tr√¨nh duy·ªát\n\nüí° N·∫øu kh√¥ng th·∫•y file, h√£y th·ª≠ l·∫°i ho·∫∑c ki·ªÉm tra c√†i ƒë·∫∑t t·∫£i xu·ªëng c·ªßa tr√¨nh duy·ªát`,
            'success'
          );
          
        } catch (downloadError) {
          showFileContentDialog(fileName, htmlContent);
        }
        
      } catch (error) {
        showNotification('C√≥ l·ªói khi t·∫°o file!', 'error');
      } finally {
        exportBtn.disabled = false;
        exportBtn.innerHTML = 'üìÑ T·∫°o file l·ªùi ch√∫c';
      }
    }

    /**
     * X√≥a m·ªôt l·ªùi ch√∫c c·ª• th·ªÉ (c√≥ b·∫£o m·∫≠t m·∫≠t kh·∫©u)
     * @param {string} messageId - ID c·ªßa l·ªùi ch√∫c c·∫ßn x√≥a
     */
    function deleteMessage(messageId) {
      const message = allMessages.find(msg => msg.__backendId === messageId);
      if (!message) return;
      
      // Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u
      showPasswordDialog(
        'X√°c th·ª±c x√≥a l·ªùi ch√∫c',
        `Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ x√≥a l·ªùi ch√∫c c·ªßa "${message.author}":\n\n"${message.message.substring(0, 50)}${message.message.length > 50 ? '...' : ''}"`,
        (password) => {
          // Ki·ªÉm tra m·∫≠t kh·∫©u (m·∫∑c ƒë·ªãnh: "admin123" - b·∫°n c√≥ th·ªÉ thay ƒë·ªïi)
          if (password !== 'admin123') {
            showNotification('M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng! üîí', 'error');
            return;
          }
          
          try {
            // X√≥a kh·ªèi m·∫£ng
            allMessages = allMessages.filter(msg => msg.__backendId !== messageId);
            saveMessages(allMessages);
            updateData();
            showNotification('ƒê√£ x√≥a l·ªùi ch√∫c th√†nh c√¥ng! üóëÔ∏è', 'success');
          } catch (error) {
            showNotification('C√≥ l·ªói khi x√≥a l·ªùi ch√∫c!', 'error');
          }
        }
      );
    }

    /**
     * X√≥a t·∫•t c·∫£ l·ªùi ch√∫c (c√≥ b·∫£o m·∫≠t m·∫≠t kh·∫©u)
     */
    function clearAllMessages() {
      if (allMessages.length === 0) {
        showNotification('Kh√¥ng c√≥ l·ªùi ch√∫c n√†o ƒë·ªÉ x√≥a!', 'warning');
        return;
      }
      
      // Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u cho vi·ªác x√≥a t·∫•t c·∫£
      showPasswordDialog(
        'X√°c th·ª±c x√≥a t·∫•t c·∫£',
        `C·∫¢NH B√ÅO: B·∫°n s·∫Øp x√≥a T·∫§T C·∫¢ ${allMessages.length} l·ªùi ch√∫c!\n\nH√†nh ƒë·ªông n√†y KH√îNG TH·ªÇ HO√ÄN T√ÅC!\n\nNh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c:`,
        (password) => {
          // Ki·ªÉm tra m·∫≠t kh·∫©u (m·∫∑c ƒë·ªãnh: "admin123" - b·∫°n c√≥ th·ªÉ thay ƒë·ªïi)
          if (password !== 'admin123') {
            showNotification('M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng! üîí', 'error');
            return;
          }
          
          const clearBtn = document.getElementById('clearAllBtn');
          clearBtn.disabled = true;
          clearBtn.innerHTML = '<span class="spinner"></span> ƒêang x√≥a...';
          
          try {
            // X√≥a t·∫•t c·∫£
            allMessages = [];
            saveMessages(allMessages);
            updateData();
            showNotification('ƒê√£ x√≥a t·∫•t c·∫£ l·ªùi ch√∫c th√†nh c√¥ng! üóëÔ∏è', 'success');
          } catch (error) {
            showNotification('C√≥ l·ªói khi x√≥a d·ªØ li·ªáu!', 'error');
          } finally {
            clearBtn.disabled = false;
            clearBtn.innerHTML = 'üóëÔ∏è X√≥a t·∫•t c·∫£';
          }
        }
      );
    }

    /**
     * Hi·ªÉn th·ªã h·ªôp tho·∫°i x√°c nh·∫≠n
     * @param {string} title - Ti√™u ƒë·ªÅ
     * @param {string} message - N·ªôi dung
     * @param {Function} onConfirm - H√†m th·ª±c thi khi x√°c nh·∫≠n
     */
    function showConfirmDialog(title, message, onConfirm) {
      // T·∫°o HTML cho h·ªôp tho·∫°i
      const dialogHTML = `
        <div class="confirmation-dialog" id="confirmDialog">
          <div class="confirmation-content">
            <div class="confirmation-title">${title}</div>
            <div class="confirmation-message">${message}</div>
            <div class="confirmation-actions">
              <button class="cancel-btn" onclick="hideConfirmDialog()">H·ªßy</button>
              <button class="confirm-btn" onclick="confirmAction()">X√°c nh·∫≠n</button>
            </div>
          </div>
        </div>
      `;
      
      // Th√™m v√†o body
      document.body.insertAdjacentHTML('beforeend', dialogHTML);
      
      // Hi·ªÉn th·ªã v·ªõi animation
      setTimeout(() => {
        document.getElementById('confirmDialog').classList.add('show');
      }, 10);
      
      // L∆∞u h√†m callback
      window.confirmAction = () => {
        hideConfirmDialog();
        onConfirm();
      };
    }

    /**
     * Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u
     * @param {string} title - Ti√™u ƒë·ªÅ
     * @param {string} message - N·ªôi dung
     * @param {Function} onConfirm - H√†m th·ª±c thi khi x√°c nh·∫≠n (nh·∫≠n password l√†m tham s·ªë)
     */
    function showPasswordDialog(title, message, onConfirm) {
      // T·∫°o HTML cho h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u
      const dialogHTML = `
        <div class="confirmation-dialog" id="passwordDialog">
          <div class="confirmation-content">
            <div class="confirmation-title">${title}</div>
            <div class="confirmation-message" style="white-space: pre-line; margin-bottom: 1.5rem;">${message}</div>
            <div style="margin-bottom: 1.5rem;">
              <input type="password" id="passwordInput" placeholder="Nh·∫≠p m·∫≠t kh·∫©u..." 
                     style="width: 100%; padding: 0.8rem; border: 1px solid rgba(255,255,255,0.3); 
                            border-radius: 8px; background: rgba(255,255,255,0.1); color: var(--text); 
                            font-size: 1rem; backdrop-filter: blur(10px);" />
            </div>
            <div class="confirmation-actions">
              <button class="cancel-btn" onclick="hidePasswordDialog()">H·ªßy</button>
              <button class="confirm-btn" onclick="confirmPasswordAction()">X√°c nh·∫≠n</button>
            </div>
          </div>
        </div>
      `;
      
      // Th√™m v√†o body
      document.body.insertAdjacentHTML('beforeend', dialogHTML);
      
      // Hi·ªÉn th·ªã v·ªõi animation
      setTimeout(() => {
        const dialog = document.getElementById('passwordDialog');
        dialog.classList.add('show');
        
        // Focus v√†o input m·∫≠t kh·∫©u
        const passwordInput = document.getElementById('passwordInput');
        passwordInput.focus();
        
        // Cho ph√©p nh·∫•n Enter ƒë·ªÉ x√°c nh·∫≠n
        passwordInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            confirmPasswordAction();
          }
        });
      }, 10);
      
      // L∆∞u h√†m callback
      window.confirmPasswordAction = () => {
        const password = document.getElementById('passwordInput').value;
        hidePasswordDialog();
        onConfirm(password);
      };
    }

    /**
     * ·∫®n h·ªôp tho·∫°i x√°c nh·∫≠n
     */
    function hideConfirmDialog() {
      const dialog = document.getElementById('confirmDialog');
      if (dialog) {
        dialog.classList.remove('show');
        setTimeout(() => {
          dialog.remove();
          delete window.confirmAction;
        }, 300);
      }
    }

    /**
     * ·∫®n h·ªôp tho·∫°i nh·∫≠p m·∫≠t kh·∫©u
     */
    function hidePasswordDialog() {
      const dialog = document.getElementById('passwordDialog');
      if (dialog) {
        dialog.classList.remove('show');
        setTimeout(() => {
          dialog.remove();
          delete window.confirmPasswordAction;
        }, 300);
      }
    }

    /**
     * Hi·ªÉn th·ªã n·ªôi dung file ƒë·ªÉ ng∆∞·ªùi d√πng copy th·ªß c√¥ng
     * @param {string} fileName - T√™n file
     * @param {string} content - N·ªôi dung file
     */
    function showFileContentDialog(fileName, content) {
      const dialogHTML = `
        <div class="confirmation-dialog" id="fileContentDialog">
          <div class="confirmation-content" style="max-width: 90vw; max-height: 90vh; width: 800px;">
            <div class="confirmation-title">üìÑ N·ªôi dung file ${fileName}</div>
            <div class="confirmation-message" style="margin-bottom: 1rem;">
              Kh√¥ng th·ªÉ t·∫£i file t·ª± ƒë·ªông. B·∫°n c√≥ th·ªÉ copy n·ªôi dung b√™n d∆∞·ªõi v√† t·∫°o file th·ªß c√¥ng:
            </div>
            <div style="margin-bottom: 1rem;">
              <textarea id="fileContentTextarea" readonly 
                       style="width: 100%; height: 400px; padding: 1rem; border: 1px solid rgba(255,255,255,0.3); 
                              border-radius: 8px; background: rgba(255,255,255,0.05); color: var(--text); 
                              font-size: 0.8rem; font-family: monospace; resize: vertical; backdrop-filter: blur(10px);">${content}</textarea>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; font-size: 0.9rem; line-height: 1.5;">
              <strong>üìã H∆∞·ªõng d·∫´n t·∫°o file th·ªß c√¥ng:</strong><br>
              1. Nh·∫•n n√∫t "Copy n·ªôi dung" b√™n d∆∞·ªõi<br>
              2. M·ªü Notepad (Windows) ho·∫∑c TextEdit (Mac)<br>
              3. D√°n n·ªôi dung v√†o (Ctrl+V ho·∫∑c Cmd+V)<br>
              4. L∆∞u file v·ªõi t√™n "${fileName}"<br>
              5. ƒê·∫£m b·∫£o ph·∫ßn m·ªü r·ªông l√† .html
            </div>
            <div class="confirmation-actions">
              <button class="confirm-btn" onclick="copyFileContent()" style="background: #10B981;">
                üìã Copy n·ªôi dung
              </button>
              <button class="cancel-btn" onclick="hideFileContentDialog()">ƒê√≥ng</button>
            </div>
          </div>
        </div>
      `;
      
      document.body.insertAdjacentHTML('beforeend', dialogHTML);
      
      setTimeout(() => {
        document.getElementById('fileContentDialog').classList.add('show');
      }, 10);
    }

    /**
     * Copy n·ªôi dung file v√†o clipboard
     */
    function copyFileContent() {
      const textarea = document.getElementById('fileContentTextarea');
      textarea.select();
      textarea.setSelectionRange(0, 99999); // Cho mobile
      
      try {
        document.execCommand('copy');
        showNotification('ƒê√£ copy n·ªôi dung file! B√¢y gi·ªù h√£y d√°n v√†o Notepad v√† l∆∞u th√†nh file .html', 'success');
      } catch (err) {
        // Fallback cho tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£
        navigator.clipboard.writeText(textarea.value).then(() => {
          showNotification('ƒê√£ copy n·ªôi dung file! B√¢y gi·ªù h√£y d√°n v√†o Notepad v√† l∆∞u th√†nh file .html', 'success');
        }).catch(() => {
          showNotification('Kh√¥ng th·ªÉ copy t·ª± ƒë·ªông. H√£y b√¥i ƒëen to√†n b·ªô n·ªôi dung v√† nh·∫•n Ctrl+C', 'warning');
        });
      }
    }

    /**
     * ·∫®n h·ªôp tho·∫°i hi·ªÉn th·ªã n·ªôi dung file
     */
    function hideFileContentDialog() {
      const dialog = document.getElementById('fileContentDialog');
      if (dialog) {
        dialog.classList.remove('show');
        setTimeout(() => {
          dialog.remove();
        }, 300);
      }
    }

    // Handle anonymous checkbox
    function handleAnonymousToggle() {
      const anonymousCheck = document.getElementById('anonymousCheck');
      const authorInput = document.getElementById('authorInput');
      const authorGroup = authorInput.closest('.form-group');
      
      if (anonymousCheck.checked) {
        authorInput.removeAttribute('required');
        authorInput.value = '';
        authorGroup.style.opacity = '0.5';
        authorInput.disabled = true;
        authorInput.placeholder = 'S·∫Ω hi·ªÉn th·ªã l√† "·∫®n danh"';
      } else {
        authorInput.setAttribute('required', '');
        authorGroup.style.opacity = '1';
        authorInput.disabled = false;
        authorInput.placeholder = 'Nh·∫≠p t√™n c·ªßa b·∫°n';
      }
    }

    // ===== H√ÄM KH·ªûI T·∫†O CH√çNH =====
    
    /**
     * Kh·ªüi t·∫°o t·∫•t c·∫£ c√°c t√≠nh nƒÉng c·ªßa trang web
     * ƒê∆∞·ª£c g·ªçi khi trang web load xong
     */
    async function init() {
      // T·∫°o c√°c hi·ªáu ·ª©ng h·∫°t bay
      createParticles();
      createMessageParticles();
      
      // ===== THI·∫æT L·∫¨P B·ªò ƒê·∫æM NG∆Ø·ª¢C =====
      updateCountdown();                           // C·∫≠p nh·∫≠t l·∫ßn ƒë·∫ßu
      setInterval(updateCountdown, 1000);          // C·∫≠p nh·∫≠t m·ªói gi√¢y (1000ms)
      
      // ===== THI·∫æT L·∫¨P H·ªÜ TH·ªêNG ƒê·ªîI THEME =====
      // Th√™m s·ª± ki·ªán click cho c√°c n√∫t ƒë·ªïi m√†u
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          switchTheme(btn.dataset.theme);  // Chuy·ªÉn sang theme ƒë∆∞·ª£c ch·ªçn
        });
      });

      // B·∫Øt ƒë·∫ßu auto theme sau 5 gi√¢y n·∫øu ng∆∞·ªùi d√πng kh√¥ng t∆∞∆°ng t√°c
      // B·∫°n c√≥ th·ªÉ thay ƒë·ªïi 5000 (5 gi√¢y) th√†nh th·ªùi gian kh√°c
      setTimeout(() => {
        if (!userInteracted) {
          startAutoTheme();
        }
      }, 5000);
      
      // ===== THI·∫æT L·∫¨P FORM G·ª¨I L·ªúI CH√öC =====
      document.getElementById('messageForm').addEventListener('submit', handleFormSubmit);
      
      // ===== THI·∫æT L·∫¨P CHECKBOX ·∫®N DANH =====
      document.getElementById('anonymousCheck').addEventListener('change', handleAnonymousToggle);
      
      // ===== THI·∫æT L·∫¨P C√ÅC N√öT QU·∫¢N L√ù ADMIN =====
      document.getElementById('adminToggle').addEventListener('click', toggleAdminMode);
      document.getElementById('exportBtn').addEventListener('click', exportData);
      document.getElementById('selectModeBtn').addEventListener('click', toggleSelectionMode);
      document.getElementById('clearAllBtn').addEventListener('click', clearAllMessages);
      
      // C√°c n√∫t trong thanh c√¥ng c·ª• ch·ªçn nhi·ªÅu
      document.getElementById('selectAllBtn').addEventListener('click', selectAllMessages);
      document.getElementById('deselectAllBtn').addEventListener('click', deselectAllMessages);
      document.getElementById('deleteSelectedBtn').addEventListener('click', deleteSelectedMessages);
      document.getElementById('exitSelectModeBtn').addEventListener('click', exitSelectionMode);
      
      // Th√™m c√°c h√†m v√†o window ƒë·ªÉ c√≥ th·ªÉ g·ªçi t·ª´ HTML
      window.deleteMessage = deleteMessage;
      window.toggleMessageSelection = toggleMessageSelection;
      window.hideConfirmDialog = hideConfirmDialog;
      window.hidePasswordDialog = hidePasswordDialog;
      window.copyFileContent = copyFileContent;
      window.hideFileContentDialog = hideFileContentDialog;
      
      // ===== THI·∫æT L·∫¨P HI·ªÜU ·ª®NG SCROLL =====
      initScrollReveal();
      
      // ===== KH·ªûI T·∫†O D·ªÆ LI·ªÜU (LOCAL STORAGE) =====
      updateData();
    }

    // ===== KH·ªûI ƒê·ªòNG ·ª®NG D·ª§NG =====
    
    /**
     * B·∫Øt ƒë·∫ßu ch·∫°y ·ª©ng d·ª•ng khi trang web ƒë√£ load xong ho√†n to√†n
     * DOMContentLoaded: s·ª± ki·ªán ƒë∆∞·ª£c k√≠ch ho·∫°t khi HTML ƒë√£ ƒë∆∞·ª£c t·∫£i v√† ph√¢n t√≠ch xong
     */
    document.addEventListener('DOMContentLoaded', init);
    
    // ===== H∆Ø·ªöNG D·∫™N CH·ªàNH S·ª¨A =====
    /*
    
    üé® THAY ƒê·ªîI M√ÄU S·∫ÆC:
    - T√¨m ph·∫ßn "C·∫§U H√åNH M·∫∂C ƒê·ªäNH" ·ªü ƒë·∫ßu file
    - Thay ƒë·ªïi c√°c gi√° tr·ªã m√†u hex (v√≠ d·ª•: "#111315" th√†nh "#FF0000")
    
    ‚è∞ THAY ƒê·ªîI TH·ªúI GIAN ƒê·∫æM NG∆Ø·ª¢C:
    - T√¨m ph·∫ßn "T√çNH TO√ÅN NG√ÄY THI"
    - Thay ƒë·ªïi c√°c s·ªë: 222 (ng√†y), 7 (gi·ªù), 19 (ph√∫t), 10 (gi√¢y)
    
    üîí THAY ƒê·ªîI M·∫¨T KH·∫®U QU·∫¢N L√ù:
    - T√¨m t·∫•t c·∫£ "admin123" trong file v√† thay th·∫ø b·∫±ng m·∫≠t kh·∫©u m·ªõi
    - C√≥ 3 v·ªã tr√≠ c·∫ßn thay ƒë·ªïi: deleteMessage(), clearAllMessages(), deleteSelectedMessages()
    - Khuy·∫øn ngh·ªã s·ª≠ d·ª•ng m·∫≠t kh·∫©u m·∫°nh (√≠t nh·∫•t 8 k√Ω t·ª±, c√≥ ch·ªØ hoa, s·ªë, k√Ω t·ª± ƒë·∫∑c bi·ªát)
    
    üé≠ THAY ƒê·ªîI TH·ªúI GIAN T·ª∞ ƒê·ªòNG ƒê·ªîI M√ÄU:
    - T√¨m "8000" trong h√†m startAutoTheme() ƒë·ªÉ thay ƒë·ªïi t·ªëc ƒë·ªô chuy·ªÉn m√†u
    - T√¨m "5000" trong h√†m init() ƒë·ªÉ thay ƒë·ªïi th·ªùi gian ch·ªù ban ƒë·∫ßu
    - T√¨m "15000" trong h√†m startRestartTimer() ƒë·ªÉ thay ƒë·ªïi th·ªùi gian kh·ªüi ƒë·ªông l·∫°i
    
    ‚ú® THAY ƒê·ªîI S·ªê L∆Ø·ª¢NG H·∫†T BAY:
    - T√¨m "50" trong createParticles() cho h·∫°t bay n·ªÅn
    - T√¨m "40" trong createMessageParticles() cho h·∫°t bay l·ªùi ch√∫c
    
    üìù THAY ƒê·ªîI N·ªòI DUNG:
    - T√¨m ph·∫ßn "C·∫§U H√åNH M·∫∂C ƒê·ªäNH" ƒë·ªÉ thay ƒë·ªïi c√°c ti√™u ƒë·ªÅ v√† n·ªôi dung
    
    */
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9977b0aea018e6ca',t:'MTc2MTk2MTI5MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>